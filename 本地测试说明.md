# 芸仔AI 本地测试指南

## 前置要求

请确保已安装以下软件：
- **Node.js 18+**：https://nodejs.org/
- **pnpm**：安装Node.js后运行 `npm install -g pnpm`
- **MySQL 8.0+**：https://dev.mysql.com/downloads/mysql/
- **Redis**：https://github.com/tporadowski/redis/releases

## 快速开始（3步）

### 第一步：初始化数据库（仅首次）

双击运行 **`首次运行-初始化数据库.bat`**

这会创建：
- MySQL用户：`123456`
- MySQL密码：`123456`
- 数据库名：`yunzai_ai`

### 第二步：启动服务

双击运行 **`一键启动.bat`**

脚本会自动：
1. 安装依赖
2. 初始化数据库表
3. 启动后端（端口3000）
4. 启动前端（端口3001）
5. 自动打开浏览器

### 第三步：访问网站

- **前端地址**：http://localhost:3001
- **后端API**：http://localhost:3000

## 登录信息

| 角色 | 邮箱 | 密码 |
|------|------|------|
| 管理员 | admin@admin.com | 123456 |

## 停止服务

双击运行 **`停止服务.bat`**

## 常见问题

### Q: 提示"无法连接MySQL"
A: 请确保MySQL服务已启动，可以在Windows服务中查看

### Q: 提示"Redis连接失败"
A: 请启动Redis服务，或下载Redis for Windows

### Q: 端口被占用
A: 修改 `backend/.env` 中的 PORT，以及 `frontend/.env.local` 中的地址

## 文件说明

```
yunzai-ai/
├── 一键启动.bat          # 启动所有服务
├── 停止服务.bat          # 停止所有服务
├── 首次运行-初始化数据库.bat  # 初始化MySQL
├── backend/             # 后端代码
│   └── .env            # 后端配置（数据库等）
├── frontend/            # 前端代码
│   └── .env.local      # 前端配置
└── prisma/              # 数据库模型
```

## 配置文件

### backend/.env
```
DATABASE_URL="mysql://123456:123456@localhost:3306/yunzai_ai"
REDIS_HOST=localhost
REDIS_PORT=6379
JWT_SECRET="yunzai-ai-secret-key-2024"
PORT=3000
```

### frontend/.env.local
```
NEXT_PUBLIC_API_URL=http://localhost:3000
```
